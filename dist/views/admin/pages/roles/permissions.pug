extends ../../layouts/default.pug
block main 

  h1(class="mb-4") Phân quyền 
  div(data-records=records) 
  if(role.permissions.includes("roles_setup"))
    div(class="text-right")
      button(
        type="submit"
        class="btn btn-primary mb-3"
        button-submit 
      ) Cập nhật 
    
  table(
    class="table table-hAover table-sm"
    table-permissions
  )
    thead
      tr
        th Tính năng
        each item in records
          th(class="text-center")  #{item.title}
    tbody 
      tr 
        td(colspan="4")
          b Quản lý bài hát
      tr(data-name="id" class="d-none")
        td
        each item in records
          td(class="text-center")
            input(type="text" value=item.id)
      tr(data-name="song_view")
        td Xem
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="song_create")
        td Thêm mới
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="song_edit")
        td Chỉnh sửa
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="song_delete")
        td Xóa
        each item in records
          td(class="text-center")
            input(type="checkbox")

      //- Sản phẩm
      tr 
        td(colspan="4")
          b Quản lý ca sĩ
      tr(data-name="singer_view")
        td Xem
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="singer_create")
        td Thêm mới
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="singer_edit")
        td Chỉnh sửa
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="singer_delete")
        td Xóa
        each item in records
          td(class="text-center")
            input(type="checkbox")
      //- Nhóm quyền
      tr 
        td(colspan="4")
          b Nhóm quyền
      tr(data-name="roles_view")
        td Xem
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="roles_create")
        td Thêm mới
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="roles_edit")
        td Chỉnh sửa
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="roles_delete")
        td Xóa
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="roles_setup")
        td Phân quyền
        each item in records
          td(class="text-center")
            input(type="checkbox")
      //- Phân quyền
      tr 
        td(colspan="4")
          b Phân quyền
      tr(data-name="permissions_view")
        td Xem
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="permissions_create")
        td Thêm mới
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="permissions_edit")
        td Chỉnh sửa
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="permissions_delete")
        td Xóa
        each item in records
          td(class="text-center")
            input(type="checkbox")
      //- Account
      tr 
        td(colspan="4")
          b Tài khoản
      tr(data-name="account_view")
        td Xem
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="account_create")
        td Thêm mới
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="account_edit")
        td Chỉnh sửa
        each item in records
          td(class="text-center")
            input(type="checkbox")
      tr(data-name="account_delete")
        td Xóa
        each item in records
          td(class="text-center")
            input(type="checkbox")
  form(
    id="form-change-permissions"
    method="POST"
    action=`/${prefixAdmin}/roles/permissions?_method=PATCH`
    class="d-none"
  )
    div(class="form-group")
      input(
        type="text"
        class="form-control"
        name="permissions"
      )
  
  script(src="/admin/js/permissions.js")
        
